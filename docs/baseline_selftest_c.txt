./compile driver.rb -I . -g
*** Compiling with arguments: 'driver.rb -I . -g' into out/driver
ruby -I. ./driver.rb driver.rb -I . -g 2>&1 >out/driver.s
gcc -Wall -g -c -m32 -o out/tgc.o tgc.c
+++ [32mCompiled tgc[37m
gcc -g -m32 -o out/driver out/driver.s out/tgc.o
+++ [32mCompiled to out/driver[37m
./compile2 test/selftest.rb -I. -g
*** Compiling with arguments: 'test/selftest.rb -I. -g' into out/selftest2
./out/driver test/selftest.rb -I. -g 2>&1 >out/selftest2.s
__cnt: 1000
__cnt: 2000
__cnt: 3000
__cnt: 4000
__cnt: 5000
__cnt: 6000
__cnt: 7000
__cnt: 8000
__cnt: 9000
__cnt: 10000
__cnt: 11000
__cnt: 12000
__cnt: 13000
__cnt: 14000
__cnt: 15000
__cnt: 16000
__cnt: 17000
__cnt: 18000
__cnt: 19000
__cnt: 20000
__cnt: 21000
__cnt: 22000
__cnt: 23000
__cnt: 24000
__cnt: 25000
__cnt: 26000
__cnt: 27000
__cnt: 28000
__cnt: 29000
__cnt: 30000
__cnt: 31000
__cnt: 32000
__cnt: 33000
__cnt: 34000
__cnt: 35000
__cnt: 36000
__cnt: 37000
__cnt: 38000
__cnt: 39000
__cnt: 40000
__cnt: 41000
__cnt: 42000
__cnt: 43000
__cnt: 44000
__cnt: 45000
__cnt: 46000
__cnt: 47000
__cnt: 48000
__cnt: 49000
__cnt: 50000
__cnt: 51000
__cnt: 52000
__cnt: 53000
__cnt: 54000
__cnt: 55000
__cnt: 56000
__cnt: 57000
__cnt: 58000
__cnt: 59000
__cnt: 60000
__cnt: 61000
__cnt: 62000
__cnt: 63000
__cnt: 64000
__cnt: 65000
__cnt: 66000
__cnt: 67000
__cnt: 68000
__cnt: 69000
__cnt: 70000
__cnt: 71000
__cnt: 72000
__cnt: 73000
__cnt: 74000
__cnt: 75000
__cnt: 76000
__cnt: 77000
__cnt: 78000
__cnt: 79000
__cnt: 80000
__cnt: 81000
__cnt: 82000
__cnt: 83000
__cnt: 84000
__cnt: 85000
__cnt: 86000
__cnt: 87000
__cnt: 88000
__cnt: 89000
__cnt: 90000
__cnt: 91000
__cnt: 92000
__cnt: 93000
__cnt: 94000
__cnt: 95000
__cnt: 96000
__cnt: 97000
__cnt: 98000
__cnt: 99000
__cnt: 100000
__cnt: 101000
__cnt: 102000
__cnt: 103000
__cnt: 104000
__cnt: 105000
__cnt: 106000
__cnt: 107000
__cnt: 108000
__cnt: 109000
__cnt: 110000
__cnt: 111000
__cnt: 112000
__cnt: 113000
__cnt: 114000
__cnt: 115000
__cnt: 116000
__cnt: 117000
__cnt: 118000
__cnt: 119000
__cnt: 120000
__cnt: 121000
__cnt: 122000
__cnt: 123000
__cnt: 124000
__cnt: 125000
__cnt: 126000
__cnt: 127000
__cnt: 128000
__cnt: 129000
__cnt: 130000
__cnt: 131000
__cnt: 132000
__cnt: 133000
__cnt: 134000
__cnt: 135000
__cnt: 136000
__cnt: 137000
__cnt: 138000
__cnt: 139000
__cnt: 140000
__cnt: 141000
__cnt: 142000
__cnt: 143000
__cnt: 144000
__cnt: 145000
__cnt: 146000
__cnt: 147000
__cnt: 148000
__cnt: 149000
__cnt: 150000
__cnt: 151000
__cnt: 152000
__cnt: 153000
__cnt: 154000
__cnt: 155000
__cnt: 156000
__cnt: 157000
__cnt: 158000
__cnt: 159000
__cnt: 160000
__cnt: 161000
__cnt: 162000
__cnt: 163000
__cnt: 164000
__cnt: 165000
__cnt: 166000
__cnt: 167000
__cnt: 168000
__cnt: 169000
__cnt: 170000
__cnt: 171000
__cnt: 172000
__cnt: 173000
__cnt: 174000
__cnt: 175000
__cnt: 176000
__cnt: 177000
__cnt: 178000
__cnt: 179000
__cnt: 180000
__cnt: 181000
__cnt: 182000
__cnt: 183000
__cnt: 184000
__cnt: 185000
__cnt: 186000
__cnt: 187000
__cnt: 188000
__cnt: 189000
__cnt: 190000
__cnt: 191000
__cnt: 192000
__cnt: 193000
__cnt: 194000
__cnt: 195000
__cnt: 196000
__cnt: 197000
__cnt: 198000
__cnt: 199000
__cnt: 200000
__cnt: 201000
__cnt: 202000
__cnt: 203000
__cnt: 204000
__cnt: 205000
__cnt: 206000
__cnt: 207000
__cnt: 208000
__cnt: 209000
__cnt: 210000
__cnt: 211000
__cnt: 212000
__cnt: 213000
__cnt: 214000
__cnt: 215000
__cnt: 216000
__cnt: 217000
__cnt: 218000
__cnt: 219000
__cnt: 220000
__cnt: 221000
__cnt: 222000
__cnt: 223000
__cnt: 224000
__cnt: 225000
__cnt: 226000
__cnt: 227000
__cnt: 228000
__cnt: 229000
__cnt: 230000
__cnt: 231000
__cnt: 232000
__cnt: 233000
__cnt: 234000
__cnt: 235000
__cnt: 236000
__cnt: 237000
__cnt: 238000
__cnt: 239000
__cnt: 240000
__cnt: 241000
__cnt: 242000
__cnt: 243000
__cnt: 244000
__cnt: 245000
__cnt: 246000
__cnt: 247000
__cnt: 248000
__cnt: 249000
__cnt: 250000
__cnt: 251000
__cnt: 252000
__cnt: 253000
__cnt: 254000
__cnt: 255000
__cnt: 256000
__cnt: 257000
__cnt: 258000
__cnt: 259000
__cnt: 260000
__cnt: 261000
__cnt: 262000
__cnt: 263000
__cnt: 264000
__cnt: 265000
__cnt: 266000
__cnt: 267000
__cnt: 268000
__cnt: 269000
__cnt: 270000
__cnt: 271000
__cnt: 272000
__cnt: 273000
__cnt: 274000
__cnt: 275000
__cnt: 276000
__cnt: 277000
__cnt: 278000
__cnt: 279000
__cnt: 280000
__cnt: 281000
__cnt: 282000
__cnt: 283000
__cnt: 284000
__cnt: 285000
__cnt: 286000
__cnt: 287000
__cnt: 288000
__cnt: 289000
__cnt: 290000
__cnt: 291000
__cnt: 292000
__cnt: 293000
__cnt: 294000
__cnt: 295000
__cnt: 296000
__cnt: 297000
__cnt: 298000
__cnt: 299000
__cnt: 300000
__cnt: 301000
__cnt: 302000
__cnt: 303000
__cnt: 304000
__cnt: 305000
__cnt: 306000
__cnt: 307000
__cnt: 308000
__cnt: 309000
__cnt: 310000
__cnt: 311000
__cnt: 312000
__cnt: 313000
__cnt: 314000
__cnt: 315000
__cnt: 316000
__cnt: 317000
__cnt: 318000
__cnt: 319000
__cnt: 320000
__cnt: 321000
__cnt: 322000
__cnt: 323000
__cnt: 324000
__cnt: 325000
__cnt: 326000
__cnt: 327000
__cnt: 328000
__cnt: 329000
__cnt: 330000
__cnt: 331000
__cnt: 332000
__cnt: 333000
__cnt: 334000
__cnt: 335000
__cnt: 336000
__cnt: 337000
__cnt: 338000
__cnt: 339000
__cnt: 340000
__cnt: 341000
__cnt: 342000
__cnt: 343000
__cnt: 344000
__cnt: 345000
__cnt: 346000
__cnt: 347000
__cnt: 348000
__cnt: 349000
__cnt: 350000
__cnt: 351000
__cnt: 352000
__cnt: 353000
__cnt: 354000
__cnt: 355000
__cnt: 356000
__cnt: 357000
__cnt: 358000
__cnt: 359000
__cnt: 360000
__cnt: 361000
__cnt: 362000
__cnt: 363000
__cnt: 364000
__cnt: 365000
__cnt: 366000
__cnt: 367000
__cnt: 368000
__cnt: 369000
__cnt: 370000
__cnt: 371000
__cnt: 372000
__cnt: 373000
__cnt: 374000
__cnt: 375000
__cnt: 376000
__cnt: 377000
__cnt: 378000
__cnt: 379000
__cnt: 380000
__cnt: 381000
__cnt: 382000
__cnt: 383000
__cnt: 384000
__cnt: 385000
__cnt: 386000
__cnt: 387000
__cnt: 388000
__cnt: 389000
__cnt: 390000
__cnt: 391000
__cnt: 392000
__cnt: 393000
__cnt: 394000
__cnt: 395000
__cnt: 396000
__cnt: 397000
__cnt: 398000
__cnt: 399000
__cnt: 400000
__cnt: 401000
__cnt: 402000
__cnt: 403000
__cnt: 404000
__cnt: 405000
__cnt: 406000
__cnt: 407000
__cnt: 408000
__cnt: 409000
__cnt: 410000
__cnt: 411000
__cnt: 412000
__cnt: 413000
__cnt: 414000
__cnt: 415000
__cnt: 416000
__cnt: 417000
__cnt: 418000
__cnt: 419000
__cnt: 420000
__cnt: 421000
__cnt: 422000
__cnt: 423000
__cnt: 424000
__cnt: 425000
__cnt: 426000
__cnt: 427000
__cnt: 428000
__cnt: 429000
__cnt: 430000
__cnt: 431000
__cnt: 432000
__cnt: 433000
__cnt: 434000
__cnt: 435000
__cnt: 436000
__cnt: 437000
__cnt: 438000
__cnt: 439000
__cnt: 440000
__cnt: 441000
__cnt: 442000
__cnt: 443000
__cnt: 444000
__cnt: 445000
__cnt: 446000
__cnt: 447000
__cnt: 448000
__cnt: 449000
__cnt: 450000
__cnt: 451000
__cnt: 452000
__cnt: 453000
__cnt: 454000
__cnt: 455000
__cnt: 456000
__cnt: 457000
__cnt: 458000
__cnt: 459000
__cnt: 460000
__cnt: 461000
__cnt: 462000
__cnt: 463000
__cnt: 464000
__cnt: 465000
__cnt: 466000
__cnt: 467000
__cnt: 468000
__cnt: 469000
__cnt: 470000
__cnt: 471000
__cnt: 472000
__cnt: 473000
__cnt: 474000
__cnt: 475000
__cnt: 476000
__cnt: 477000
__cnt: 478000
__cnt: 479000
__cnt: 480000
__cnt: 481000
__cnt: 482000
__cnt: 483000
__cnt: 484000
__cnt: 485000
__cnt: 486000
__cnt: 487000
__cnt: 488000
__cnt: 489000
__cnt: 490000
__cnt: 491000
__cnt: 492000
__cnt: 493000
__cnt: 494000
__cnt: 495000
__cnt: 496000
__cnt: 497000
__cnt: 498000
__cnt: 499000
__cnt: 500000
__cnt: 501000
__cnt: 502000
__cnt: 503000
__cnt: 504000
__cnt: 505000
__cnt: 506000
__cnt: 507000
__cnt: 508000
__cnt: 509000
__cnt: 510000
__cnt: 511000
__cnt: 512000
__cnt: 513000
__cnt: 514000
__cnt: 515000
__cnt: 516000
__cnt: 517000
__cnt: 518000
__cnt: 519000
__cnt: 520000
__cnt: 521000
__cnt: 522000
__cnt: 523000
__cnt: 524000
__cnt: 525000
__cnt: 526000
__cnt: 527000
__cnt: 528000
__cnt: 529000
__cnt: 530000
__cnt: 531000
__cnt: 532000
__cnt: 533000
__cnt: 534000
__cnt: 535000
__cnt: 536000
__cnt: 537000
__cnt: 538000
__cnt: 539000
__cnt: 540000
__cnt: 541000
__cnt: 542000
__cnt: 543000
__cnt: 544000
__cnt: 545000
__cnt: 546000
__cnt: 547000
__cnt: 548000
__cnt: 549000
__cnt: 550000
__cnt: 551000
__cnt: 552000
__cnt: 553000
__cnt: 554000
__cnt: 555000
__cnt: 556000
__cnt: 557000
__cnt: 558000
__cnt: 559000
__cnt: 560000
__cnt: 561000
__cnt: 562000
__cnt: 563000
__cnt: 564000
__cnt: 565000
__cnt: 566000
__cnt: 567000
__cnt: 568000
__cnt: 569000
__cnt: 570000
__cnt: 571000
__cnt: 572000
__cnt: 573000
__cnt: 574000
__cnt: 575000
__cnt: 576000
__cnt: 577000
__cnt: 578000
__cnt: 579000
__cnt: 580000
__cnt: 581000
__cnt: 582000
__cnt: 583000
__cnt: 584000
__cnt: 585000
__cnt: 586000
__cnt: 587000
__cnt: 588000
__cnt: 589000
__cnt: 590000
__cnt: 591000
__cnt: 592000
__cnt: 593000
__cnt: 594000
__cnt: 595000
__cnt: 596000
__cnt: 597000
__cnt: 598000
__cnt: 599000
__cnt: 600000
__cnt: 601000
__cnt: 602000
__cnt: 603000
__cnt: 604000
__cnt: 605000
__cnt: 606000
__cnt: 607000
__cnt: 608000
__cnt: 609000
__cnt: 610000
__cnt: 611000
__cnt: 612000
__cnt: 613000
__cnt: 614000
__cnt: 615000
__cnt: 616000
__cnt: 617000
__cnt: 618000
__cnt: 619000
__cnt: 620000
__cnt: 621000
__cnt: 622000
__cnt: 623000
__cnt: 624000
__cnt: 625000
__cnt: 626000
__cnt: 627000
__cnt: 628000
__cnt: 629000
__cnt: 630000
__cnt: 631000
__cnt: 632000
__cnt: 633000
__cnt: 634000
__cnt: 635000
__cnt: 636000
__cnt: 637000
__cnt: 638000
__cnt: 639000
__cnt: 640000
__cnt: 641000
__cnt: 642000
__cnt: 643000
__cnt: 644000
__cnt: 645000
__cnt: 646000
__cnt: 647000
__cnt: 648000
__cnt: 649000
__cnt: 650000
__cnt: 651000
__cnt: 652000
__cnt: 653000
__cnt: 654000
__cnt: 655000
__cnt: 656000
__cnt: 657000
__cnt: 658000
__cnt: 659000
__cnt: 660000
__cnt: 661000
__cnt: 662000
__cnt: 663000
__cnt: 664000
__cnt: 665000
__cnt: 666000
__cnt: 667000
__cnt: 668000
__cnt: 669000
__cnt: 670000
__cnt: 671000
__cnt: 672000
__cnt: 673000
__cnt: 674000
__cnt: 675000
__cnt: 676000
__cnt: 677000
__cnt: 678000
__cnt: 679000
__cnt: 680000
__cnt: 681000
__cnt: 682000
__cnt: 683000
__cnt: 684000
__cnt: 685000
__cnt: 686000
__cnt: 687000
__cnt: 688000
__cnt: 689000
__cnt: 690000
__cnt: 691000
__cnt: 692000
__cnt: 693000
__cnt: 694000
__cnt: 695000
__cnt: 696000
__cnt: 697000
__cnt: 698000
__cnt: 699000
__cnt: 700000
__cnt: 701000
__cnt: 702000
__cnt: 703000
__cnt: 704000
__cnt: 705000
__cnt: 706000
__cnt: 707000
__cnt: 708000
__cnt: 709000
__cnt: 710000
__cnt: 711000
__cnt: 712000
__cnt: 713000
__cnt: 714000
__cnt: 715000
__cnt: 716000
__cnt: 717000
__cnt: 718000
__cnt: 719000
__cnt: 720000
__cnt: 721000
__cnt: 722000
__cnt: 723000
__cnt: 724000
__cnt: 725000
__cnt: 726000
__cnt: 727000
__cnt: 728000
__cnt: 729000
__cnt: 730000
__cnt: 731000
__cnt: 732000
__cnt: 733000
__cnt: 734000
__cnt: 735000
__cnt: 736000
__cnt: 737000
__cnt: 738000
__cnt: 739000
__cnt: 740000
__cnt: 741000
__cnt: 742000
__cnt: 743000
__cnt: 744000
__cnt: 745000
__cnt: 746000
__cnt: 747000
__cnt: 748000
__cnt: 749000
__cnt: 750000
__cnt: 751000
__cnt: 752000
__cnt: 753000
__cnt: 754000
__cnt: 755000
__cnt: 756000
__cnt: 757000
__cnt: 758000
__cnt: 759000
__cnt: 760000
__cnt: 761000
__cnt: 762000
__cnt: 763000
__cnt: 764000
__cnt: 765000
__cnt: 766000
__cnt: 767000
__cnt: 768000
__cnt: 769000
__cnt: 770000
__cnt: 771000
__cnt: 772000
__cnt: 773000
__cnt: 774000
__cnt: 775000
__cnt: 776000
__cnt: 777000
__cnt: 778000
__cnt: 779000
__cnt: 780000
__cnt: 781000
__cnt: 782000
__cnt: 783000
__cnt: 784000
__cnt: 785000
__cnt: 786000
__cnt: 787000
__cnt: 788000
__cnt: 789000
__cnt: 790000
__cnt: 791000
__cnt: 792000
__cnt: 793000
__cnt: 794000
__cnt: 795000
__cnt: 796000
__cnt: 797000
__cnt: 798000
__cnt: 799000
__cnt: 800000
__cnt: 801000
__cnt: 802000
__cnt: 803000
__cnt: 804000
__cnt: 805000
__cnt: 806000
__cnt: 807000
__cnt: 808000
__cnt: 809000
__cnt: 810000
__cnt: 811000
__cnt: 812000
__cnt: 813000
__cnt: 814000
__cnt: 815000
__cnt: 816000
__cnt: 817000
__cnt: 818000
__cnt: 819000
__cnt: 820000
__cnt: 821000
__cnt: 822000
__cnt: 823000
__cnt: 824000
__cnt: 825000
__cnt: 826000
__cnt: 827000
__cnt: 828000
__cnt: 829000
__cnt: 830000
__cnt: 831000
__cnt: 832000
__cnt: 833000
__cnt: 834000
__cnt: 835000
__cnt: 836000
__cnt: 837000
__cnt: 838000
__cnt: 839000
__cnt: 840000
__cnt: 841000
__cnt: 842000
__cnt: 843000
__cnt: 844000
__cnt: 845000
__cnt: 846000
__cnt: 847000
__cnt: 848000
__cnt: 849000
__cnt: 850000
__cnt: 851000
__cnt: 852000
__cnt: 853000
__cnt: 854000
__cnt: 855000
__cnt: 856000
__cnt: 857000
__cnt: 858000
__cnt: 859000
__cnt: 860000
__cnt: 861000
__cnt: 862000
__cnt: 863000
__cnt: 864000
__cnt: 865000
__cnt: 866000
__cnt: 867000
__cnt: 868000
__cnt: 869000
__cnt: 870000
__cnt: 871000
__cnt: 872000
__cnt: 873000
__cnt: 874000
__cnt: 875000
__cnt: 876000
__cnt: 877000
__cnt: 878000
__cnt: 879000
__cnt: 880000
__cnt: 881000
__cnt: 882000
__cnt: 883000
__cnt: 884000
__cnt: 885000
__cnt: 886000
__cnt: 887000
__cnt: 888000
__cnt: 889000
__cnt: 890000
__cnt: 891000
__cnt: 892000
__cnt: 893000
__cnt: 894000
__cnt: 895000
__cnt: 896000
__cnt: 897000
__cnt: 898000
__cnt: 899000
__cnt: 900000
__cnt: 901000
__cnt: 902000
__cnt: 903000
__cnt: 904000
__cnt: 905000
__cnt: 906000
__cnt: 907000
__cnt: 908000
__cnt: 909000
__cnt: 910000
__cnt: 911000
__cnt: 912000
__cnt: 913000
__cnt: 914000
__cnt: 915000
__cnt: 916000
__cnt: 917000
__cnt: 918000
__cnt: 919000
__cnt: 920000
__cnt: 921000
__cnt: 922000
__cnt: 923000
__cnt: 924000
__cnt: 925000
__cnt: 926000
__cnt: 927000
__cnt: 928000
__cnt: 929000
__cnt: 930000
__cnt: 931000
__cnt: 932000
__cnt: 933000
__cnt: 934000
__cnt: 935000
__cnt: 936000
__cnt: 937000
__cnt: 938000
__cnt: 939000
__cnt: 940000
__cnt: 941000
__cnt: 942000
__cnt: 943000
__cnt: 944000
__cnt: 945000
__cnt: 946000
__cnt: 947000
__cnt: 948000
__cnt: 949000
__cnt: 950000
__cnt: 951000
__cnt: 952000
__cnt: 953000
__cnt: 954000
__cnt: 955000
__cnt: 956000
__cnt: 957000
__cnt: 958000
__cnt: 959000
__cnt: 960000
__cnt: 961000
__cnt: 962000
__cnt: 963000
__cnt: 964000
__cnt: 965000
__cnt: 966000
__cnt: 967000
__cnt: 968000
__cnt: 969000
__cnt: 970000
__cnt: 971000
__cnt: 972000
__cnt: 973000
__cnt: 974000
__cnt: 975000
__cnt: 976000
__cnt: 977000
__cnt: 978000
__cnt: 979000
__cnt: 980000
__cnt: 981000
__cnt: 982000
__cnt: 983000
__cnt: 984000
__cnt: 985000
__cnt: 986000
__cnt: 987000
__cnt: 988000
__cnt: 989000
__cnt: 990000
__cnt: 991000
__cnt: 992000
__cnt: 993000
__cnt: 994000
__cnt: 995000
__cnt: 996000
__cnt: 997000
__cnt: 998000
__cnt: 999000
__cnt: 1000000
__cnt: 1001000
__cnt: 1002000
__cnt: 1003000
__cnt: 1004000
__cnt: 1005000
__cnt: 1006000
__cnt: 1007000
__cnt: 1008000
__cnt: 1009000
__cnt: 1010000
__cnt: 1011000
__cnt: 1012000
__cnt: 1013000
__cnt: 1014000
__cnt: 1015000
__cnt: 1016000
__cnt: 1017000
__cnt: 1018000
__cnt: 1019000
__cnt: 1020000
__cnt: 1021000
__cnt: 1022000
__cnt: 1023000
__cnt: 1024000
__cnt: 1025000
__cnt: 1026000
__cnt: 1027000
__cnt: 1028000
__cnt: 1029000
__cnt: 1030000
__cnt: 1031000
__cnt: 1032000
__cnt: 1033000
__cnt: 1034000
__cnt: 1035000
__cnt: 1036000
__cnt: 1037000
__cnt: 1038000
__cnt: 1039000
__cnt: 1040000
__cnt: 1041000
__cnt: 1042000
__cnt: 1043000
__cnt: 1044000
__cnt: 1045000
__cnt: 1046000
__cnt: 1047000
__cnt: 1048000
__cnt: 1049000
__cnt: 1050000
__cnt: 1051000
__cnt: 1052000
__cnt: 1053000
__cnt: 1054000
__cnt: 1055000
__cnt: 1056000
__cnt: 1057000
__cnt: 1058000
__cnt: 1059000
__cnt: 1060000
__cnt: 1061000
__cnt: 1062000
__cnt: 1063000
__cnt: 1064000
__cnt: 1065000
__cnt: 1066000
__cnt: 1067000
__cnt: 1068000
__cnt: 1069000
__cnt: 1070000
__cnt: 1071000
__cnt: 1072000
__cnt: 1073000
__cnt: 1074000
__cnt: 1075000
__cnt: 1076000
__cnt: 1077000
__cnt: 1078000
gcc -Wall -g -c -m32 -o out/tgc.o tgc.c
+++ [32mCompiled tgc[37m
gcc -g -m32 -o out/selftest2 out/selftest2.s out/tgc.o
+++ [32mCompiled to out/selftest2[37m
out/selftest2
[32mPASS[37m: 40 % 10 == 0 [expected/got "0"]
[32mPASS[37m: 42 / 7 == 6 [expected/got 6]
[32mPASS[37m: 4096.to_s(10) => '4096' [expected/got "4096"]
[32mPASS[37m: 4096.inspect => '4096' [expected/got "4096"]
[32mPASS[37m: Converting -4 to a string [expected/got "-4"]
[32mPASS[37m: 0 - 4 [expected/got -4]
[32mPASS[37m: Converting -4 from a string to Fixnum and back [expected/got "-4"]
[32mPASS[37m: Converting -4 to a string [expected/got "-4"]
[32mPASS[37m: 4 <=> 3 should return 1 [expected/got 1]
[32mPASS[37m: Same symbol should match with #== [expected/got true]
[32mPASS[37m: Same symbol should match with #=== [expected/got true]
[32mPASS[37m: Same symbol should match with #eql? [expected/got true]
[32mPASS[37m: :foo != :foo => false [expected/got false]
[32mPASS[37m: :foo != :bar => true [expected/got true]
[32mPASS[37m: A Symbol should respond to #to_sym [expected/got true]
[32mPASS[37m: #length on empty array [expected/got 0]
[32mPASS[37m: #length on 3-element array [expected/got 3]
[32mPASS[37m: [42,43,44].delete_at(1) should return 43 [expected/got 43]
[32mPASS[37m: [42, 44].inspect should return [42, 44] [expected/got "[42, 44]"]
[32mPASS[37m: #length after [42,43,44].delete_at(1) [expected/got 2]
[32mPASS[37m: [42,44].delete_at(0) should return 42 [expected/got 42]
[32mPASS[37m: #length after [42,44].delete_at(0) [expected/got 1]
[32mPASS[37m: [44].delete_at(0) should return 44 [expected/got 44]
[32mPASS[37m: #length after [44].delete_at(0) [expected/got 0]
[32mPASS[37m: member? should return true if an element exists in the array [expected/got true]
[32mPASS[37m: b=[42,43]; b[0] should return 42 [expected/got 42]
[32mPASS[37m: b=[42,43]; b[-1] should return 43 [expected/got 43]
[32mPASS[37m: b=[42,43]; b[1..-1] should return [43] [expected/got "[43]"]
[32mPASS[37m: Array#reverse should reverse an array [expected/got "[4, 3, 2, 1]"]
[32mPASS[37m: Array#partition should split an array in two based on provided block [expected/got "[[42, 5], [2, 1]]"]
[32mPASS[37m: Array#sort_by (ascending) [expected/got "[1, 2, 3, 42]"]
[32mPASS[37m: Array#sort_by (descending) [expected/got [42, 3, 2, 1]]
[32mPASS[37m: Fixnum#<=>(42,2) [expected/got 1]
[32mPASS[37m: Fixnum#<=>(42,3) [expected/got 1]
[32mPASS[37m: Fixnum#<=>(42,1) [expected/got 1]
[32mPASS[37m: Fixnum#<=>(2,3) [expected/got -1]
[32mPASS[37m: Fixnum#<=>(2,2) [expected/got 0]
[32mPASS[37m: Fixnum#<=>(3,1) [expected/got 1]
[32mPASS[37m: Array#==: Two Array's where each element compares the same should return true [expected/got true]
[32mPASS[37m: Array#sort [expected/got [:a, :b, :d, :e, :f, :foo]]
[32mPASS[37m: Array#sort (ascending) [expected/got "[1, 2, 3, 42]"]
[32mPASS[37m: Array#sort (strings) [expected/got "[\"nil\", \"sp\", \"true\"]"]
[32mPASS[37m: Array#sort (symbols) [expected/got "[:nil, :sp, :true]"]
[32mPASS[37m: Array(42) should return [42] [expected/got "[42]"]
[32mPASS[37m: Array#insert with a positive offset should insert its argument *before* the value at the offset [expected/got "[0, 1, 42, 2, 3, 4]"]
[32mPASS[37m: Array#insert with an offset larger than the array should cause 'nil's to be inserted to expand the array accordingly [expected/got "[0, 1, 2, nil, 42]"]
[32mPASS[37m: Array#insert with -1 as offset is the same as appending an entry at the end [expected/got "[0, 1, 2, 42]"]
[32mPASS[37m: Array#insert with a negative offset is the same as counting that many places from the right, and then inserting the entry *after* that position [expected/got "[0, 1, 42, 2]"]
[32mPASS[37m: Array with a single symbol [expected/got "[:stackframe]"]
[32mPASS[37m: [:stackframe][1] should return nil [expected/got "nil"]
[32mPASS[37m: [:stackframe][-1] should return :stackframe [expected/got ":stackframe"]
[32mPASS[37m: [:stackframe][1..-1] should return [] [expected/got "[]"]
[32mPASS[37m: Subtracting identical arrays should return [] [expected/got "[]"]
[32mPASS[37m: Subtracting part of an array should return the rest [expected/got "[:a, :c]"]
[32mPASS[37m: Array#zip should merge the array with an enumerable [expected/got "[[:a, 1], [:b, 2], [:c, 3]]"]
[32mPASS[37m: Flatten on a flat Array is a noop [expected/got [:a]]
[32mPASS[37m: Array#flatten on a nested array [expected/got [:a, :b, :c]]
[32mPASS[37m: Array#flatten on a more deeply nested array [expected/got [:a, :b, :c]]
[32mPASS[37m: Array#flatten(1)q on a more deeply nested array [expected/got [:a, :b, [:c]]]
[32mPASS[37m: Array#[]: Single element range [expected/got [:b]]
[32mPASS[37m: Array#[]: Range extending past the end [expected/got [:b]]
[32mPASS[37m: Array#[]: Two element range [expected/got [:b, :c]]
[32mPASS[37m: Array#[]: Three element range [expected/got [:b, :c, :d]]
[32mPASS[37m: Array#[]: Range hitting end [expected/got [:c, :d, :e]]
[32mPASS[37m: Subtracting an array from a Set [expected/got "#<Set: {:b, :c}>"]
[32mPASS[37m: Chained subtration of arrays from a Set [expected/got "#<Set: {:b}>"]
[32mPASS[37m: Second addition of pre-existing value to Set [expected/got "#<Set: {:a, :b, :c}>"]
[32mPASS[37m: Verifying that Hash returns default specified default value for unknown key [expected/got 42]
[32mPASS[37m: Insert single key into Hash [expected/got "{:foo=>:bar}"]
[32mPASS[37m: Inserting second key maintains insertion order [expected/got "{:foo=>:bar, :a=>:b}"]
[32mPASS[37m: Replacing first inserted key maintains original insertion order [expected/got "{:foo=>:baz, :a=>:b}"]
[32mPASS[37m: Additional insertion after overwrite [expected/got "{:foo=>:baz, :a=>:b, :b=>:c}"]
[32mPASS[37m: Collect should return Hash values in insertion order [expected/got "[[:foo, :baz], [:a, :b], [:b, :c]]"]
[32mPASS[37m: Additional additions [expected/got "{:foo=>:baz, :a=>:b, :b=>:c, :d=>:e, :e=>:f, :f=>:g}"]
[32mPASS[37m: #keys [expected/got "[:foo, :a, :b, :d, :e, :f]"]
[32mPASS[37m: #keys post-delete [expected/got "[:foo, :a, :b, :e, :f]"]
[32mPASS[37m: #keys post-delete and re-insert [expected/got "[:foo, :a, :b, :e, :f, :d]"]
[32mPASS[37m: and another delete [expected/got "[:a, :b, :e, :f, :d]"]
[32mPASS[37m: Return value of delete [expected/got :h]
[32mPASS[37m: and another delete [expected/got "[:a, :b, :e, :f]"]
[32mPASS[37m: delete nil [expected/got nil]
[32mPASS[37m: Return value of delete [expected/got :c]
[32mPASS[37m: and another delete [expected/got "[:a, :e, :f]"]
[32mPASS[37m: #to_a after deletes [expected/got "[[:a, :b], [:e, :f], [:f, :g]]"]
[32mPASS[37m: Last element [expected/got "[[:f, :g]]"]
[32mPASS[37m: A while loop without an explicit return should evaluation to nil [expected/got nil]
[32mPASS[37m: mockio.is_a?(File) [expected/got false]
[32mPASS[37m: File.file?(MockIO.new [expected/got false]
[32mPASS[37m: ScannerString and String with same contents [expected/got "Test"]
[32mPASS[37m: Scanner#position#lineno starts at 1 [expected/got 1]
[32mPASS[37m: Scanner#position#col starts at 1 [expected/got 1]
[32mPASS[37m: Scanner#filename for non-file IO [expected/got "<stream>"]
[32mPASS[37m: scanner.peek on 'This is a test' [expected/got 84]
[32mPASS[37m: Scanner#peek does not move the column [expected/got 1]
[32mPASS[37m: scanner.get on 'This is a test' [expected/got "T"]
[32mPASS[37m: Scanner#get does move the column [expected/got 2]
[32mPASS[37m: scanner.get with 'his is a test' remaining [expected/got "h"]
[32mPASS[37m: Scanner#get does move the column (2) [expected/got 3]
[32mPASS[37m: Scanner#unget does move the column back [expected/got 2]
[32mPASS[37m: scanner.get with 'his is a test' remaining after unget [expected/got "h"]
[32mPASS[37m: scanner.expect('is') with 'is a test' remaining [expected/got "is"]
[32mPASS[37m: scanner.expect('x') after having consumed the whole string should return nil [expected/got false]
[32mPASS[37m: Scanner position after LF should be 1 [expected/got 1]
[32mPASS[37m: Scanner lineno should increase [expected/got 2]
[32mPASS[37m: Unget of a line with LF should reduce lineno [expected/got 1]
[32mPASS[37m: A failed Scanner#expect should not change the line numbe__cnt: 1000
r [expected/got 1]
[32mPASS[37m: parser.expect('This') [expected/got "This"]
[32mPASS[37m: Skip whitespace [expected/got nil]
[32mPASS[37m: parser.expect('is') after skipping whitespace [expected/got "is"]
[32mPASS[37m: Parse symbol :sym [expected/got :":sym"]
[32mPASS[37m: Parse atom :sym [expected/got :":sym"]
[32mPASS[37m: Object.new.respond_to?(:foo)? [expected/got false]
[32mPASS[37m: Object.new.respond_to?(:inspect)? [expected/got true]
[32mPASS[37m: Parsing %s(this is a test) [expected/got "[:sexp, [:this, :is, :a, :test]]"]
[32mPASS[37m: Parsing %s(index self -4) [expected/got "[:sexp, [:index, :self, -4]]"]
[32mPASS[37m: esc [expected/got 27]
[32mPASS[37m: esc 2 [expected/got 27]
[32mPASS[37m: esc 3 [expected/got 9]
[32mPASS[37m: esc 4 [expected/got 92]
[32mPASS[37m: esc 5 [expected/got 10]
[32mPASS[37m: esc 6 [expected/got "e"]
[32mPASS[37m: Inspect [expected/got "\"\\\\e\""]
[32mPASS[37m: Expect Scanner#expect to return quoted backslash [expected/got "\\"]
[32mPASS[37m: Expect double-quoted string with backslash-e to translate to esc [expected/got 27]
[32mPASS[37m: Expect Scanner.expect(esc) to return esc when string is esc [expected/got "\e"]
[32mPASS[37m: Expect Scanner#expect to find backslash in single-quoted '\e' [expected/got "\\"]
[32mPASS[37m: Tokens::Quotes need to be able to handle escapes [expected/got "\e and more"]
[32mPASS[37m: __flag= is a legal method name [expected/got ":__flag="]
[32mPASS[37m: Shunting 1 [expected/got "[:+, 5, 1]"]
[32mPASS[37m: Shunting 2 [expected/got "[:+, 5, :y]"]
[32mPASS[37m: Shunting 3 [expected/got "[:+, 5, [:*, 1, 2]]"]
[32mPASS[37m: Shunting foo.bar(x) {} [expected/got "[:callm, :foo, :bar, [:x], [:proc]]"]
[32mPASS[37m:  [expected/got "[:callm, :x, :y, 42]"]
[32mPASS[37m: Parsing '%s(this is a test)' with the full parser [expected/got "[:do, [:sexp, [:this, :is, :a, :test]]]"]
[32mPASS[37m: Parsing '5 + a' with the full parser [expected/got "[:do, [:+, 5, :a]]"]
[32mPASS[37m: Parsing 'puts 'Hello World'' with the full parser [expected/got "[:do, [:call, :puts, [\"Hello World\"]]]"]
[32mPASS[37m: Parsing 'def foo; end' with the full parser [expected/got "[:do, [:defm, :foo, [], []]]"]
[32mPASS[37m: Parsing 'def foo; puts 'Hello World'; end' with the full parser [expected/got "[:do, [:defm, :foo, [], [[:call, :puts, [\"Hello World\"]]]]]"]
[32mPASS[37m: Parsing 'e[i]' with the full parser [expected/got "[:do, [:callm, :e, :[], [:i]]]"]
[32mPASS[37m: Parsing 'e[i] = E[:foo]' with the full parser [expected/got "[:do, [:callm, :e, :[]=, [:i, [:callm, :E, :[], [:\":foo\"]]]]]"]
[32mPASS[37m: Parsing '"\e"' with the full parser [expected/got "[:do, \"\\e\"]"]
[32mPASS[37m: Parsing 'Set[* e[2].to_a]' with the full parser [expected/got "[:do, [:callm, :Set, :[], [[:splat, [:callm, [:callm, :e, :[], [2]], :to_a]]]]]"]
[32mPASS[37m: Parsing 'def foo; name.gsub(foo.bar) { }; end ' with the full parser [expected/got "[:do, [:defm, :foo, [], [[:callm, :name, :gsub, [[:callm, :foo, :bar]], [:proc]]]]]"]
[32mPASS[37m: Parsing 'STDERR.puts "defm: #{args.inspect}"' with the full parser [expected/got "[:do, [:callm, :STDERR, :puts, [[:concat, \"defm: \", [:callm, :args, :inspect]]]]]"]
[32mPASS[37m: Parsing 'STDERR.puts "test"' with the full parser [expected/got "[:do, [:callm, :STDERR, :puts, \"test\"]]"]
[32mPASS[37m: Parsing 'STDERR.puts("test")' with the full parser [expected/got "[:do, [:callm, :STDERR, :puts, [\"test\"]]]"]
[32mPASS[37m: Parsing 'self.== other' with the full parser [expected/got "[:do, [:callm, :self, :==, :other]]"]
[32mPASS[37m: Parsing 'a - b - c' with the full parser [expected/got "[:do, [:-, [:-, :a, :b], :c]]"]
[32mPASS[37m: Parsing 'a + b + c' with the full parser [expected/got "[:do, [:+, [:+, :a, :b], :c]]"]
[32mPASS[37m: Parsing 'a * b * c' with the full parser [expected/got "[:do, [:*, [:*, :a, :b], :c]]"]
[32mPASS[37m: Parsing 'a / b / c' with the full parser [expected/got "[:do, [:/, [:/, :a, :b], :c]]"]
[32mPASS[37m: Parsing '1..x.size' with the full parser__cnt: 2000
__cnt: 3000
__cnt: 4000
__cnt: 5000
__cnt: 6000
__cnt: 7000
__cnt: 8000
__cnt: 9000
__cnt: 10000
 [expected/got "[:do, [:range, 1, [:callm, :x, :size]]]"]
[32mPASS[37m: Parsing 'foo.bar(x)' with the full parser [expected/got "[:do, [:callm, :foo, :bar, [:x]]]"]
[32mPASS[37m: Parsing 'foo.bar(x) {}' with the full parser [expected/got "[:do, [:callm, :foo, :bar, [:x], [:proc]]]"]
[32mPASS[37m: Parsing 'def flatten level=0; end' with the full parser [expected/got "[:do, [:defm, :flatten, [[:level, :default, 0]], []]]"]
[32mPASS[37m: Parsing '{ :foo => 42, } ' with the full parser [expected/got "[:do, [:hash, [:pair, :\":foo\", 42]]]"]
[32mPASS[37m: Parser position [expected/got 2]
[32mPASS[37m: Parser line number should match [expected/got 4]
[32mPASS[37m: Parsing '5 +
2' with the full parser [expected/got "[:do, [:+, 5, 2]]"]
[32mPASS[37m: Parsing '5 
-2' with the full parser [expected/got "[:do, 5, -2]"]
[32mPASS[37m: Parsing 'a = 5
b = -2' with the full parser [expected/got "[:do, [:assign, :a, 5], [:assign, :b, -2]]"]
[32mPASS[37m: Parsing '1
2
3' with the full parser [expected/got "[:do, 1, 2, 3]"]
[32mPASS[37m: Parsing 'class Foo
end
' with the full parser [expected/got "[:do, [:class, :Foo, :Object, []]]"]
[32mPASS[37m: Scanner should be at EOF after parsing '5\n' [expected/got "nil"]
[32mPASS[37m: Scanner should be at EOF after parsing class with nested ends [expected/got "nil"]
[32mPASS[37m: Parsing '4.ceildiv(-3)
-4.ceildiv(3)' with the full parser [expected/got "[:do, [:callm, 4, :ceildiv, [-3]], [:callm, -4, :ceildiv, [3]]]"]
[32mPASS[37m: Minimal EOF bug reproducer should parse to EOF [expected/got "nil"]
[32mPASS[37m: 4 + (-3) should equal 1 [expected/got 1]
[32mPASS[37m: -4 + 3 should equal -1 [expected/got -1]
[32mPASS[37m: First expression should be 5 [expected/got 5]
[32mPASS[37m: Second expression should be -2 [expected/got -2]
[32mPASS[37m: Parsing 'a,b = [42,123]' with the full parser [expected/got "[:do, [:assign, [:destruct, :a, :b], [:array, 42, 123]]]"]
[32mPASS[37m: depth_first [expected/got "to get here"]
[32mPASS[37m: #depth_first should descent into each array [expected/got "[[:if, [:a, :b], [:do, :c]], [:a, :b], [:do, :c]]"]
[32mPASS[37m: String#gsub - Simple character substitution [expected/got "fxx"]
[32mPASS[37m: String#gsub - Replace character with string [expected/got "fxyxy"]
[32mPASS[37m: String#gsub - Replace character with string with escape characters [expected/got "foo\\nbar"]
[32mPASS[37m: String#<=> should return 1 if left string sorts after right string [expected/got 1]
[32mPASS[37m: String#<=> should return 1 for 'foo' <=> 'f' [expected/got 1]
[32mPASS[37m: String#split(' ') should return an array of the split string [expected/got ["foo", "bar", "baz"]]
[32mPASS[37m: Expanding path wo/trailing / on base [expected/got "/app/lib/core/string.rb"]
[32mPASS[37m: Expanding path w/trailing / on base [expected/got "/app/lib/core/string.rb"]
[32mPASS[37m: Expanding path w/repeated slash [expected/got "/app/lib/core"]
[32mPASS[37m: Basic dirname [expected/got "/app/examples"]
[32mPASS[37m: Basic basename [expected/got "case.rb"]
[32mPASS[37m: Compiler#find_vars [expected/got "[[:foo], #<Set: {:arg}>]"]
[32mPASS[37m: Parse 'def __flag=(x)' without leaving out the = [expected/got "[:do, [:defm, :__flag=, [:x], [42]]]"]
[32mPASS[37m: concat => callm (2) [expected/got "[:do, [:if, [:<, :a, 2], [:do, [:callm, :STDERR, :puts, [[:callm, [:callm, [:callm, \"a \", :to_s], :concat, [[:callm, :b, :to_s]]], :concat, [[:callm, \" c\", :to_s]]]]]]]]"]
[32mPASS[37m: find_vars should identify all variables in a proc [expected/got "[[], #<Set: {:h}>]"]
[32mPASS[37m: find_vars_should identify all variables in a proc [expected/got "[[:left], #<Set: {:scope, :right}>]"]
[32mPASS[37m: find_vars_should identify all variables in a proc [expected/got "[[:left], #<Set: {:scope, :right}>]"]
[32mPASS[37m: find_vars_should identify all variables in a proc [x] [expected/got "[[:left], #<Set: {:scope, :right}>]"]
[32mPASS[37m: find_vars should identify all variables in a proc [expected/got "[[], #<Set: {:arg, :arg2}>]"]
[32mPASS[37m: find_vars should identify all variables references in method body [expected/got "[[], #<Set: {:arg, :arg2}>]"]
[32mPASS[37m: yield triggers a rewrite even with no arguments [expected/got "[:let, [:__env__, :__tmp_proc], [:sexp, [:assign, :__env__, [:call, :__alloc_env, 2]]], [:assign, [:index, :__env__, 1], :__closure__], [:callm, [:index, :__env__, 1], :call, nil]]"]
DONE
Fails: 0
